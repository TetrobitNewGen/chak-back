# Swagger документация

## Доступ к документации

После запуска приложения Swagger документация доступна по адресу:
**http://localhost:5000/docs**

## Возможности Swagger UI

### 1. Просмотр API
- Все эндпоинты сгруппированы по категориям
- Подробное описание каждого эндпоинта
- Схемы запросов и ответов
- Примеры данных

### 2. Интерактивное тестирование
- Тестирование API прямо в браузере
- Автоматическое заполнение форм
- Валидация данных
- Просмотр ответов

### 3. Группировка эндпоинтов

#### Система
- **GET /health** - Проверка состояния API

#### Пользователи  
- **POST /register** - Регистрация нового пользователя

#### Карточки
- **GET /cards** - Получение всех карточек

#### Ответы
- **POST /answer** - Отправка ответа на карточку

#### Рейтинги
- **GET /rating/words** - Рейтинг по изученным словам
- **GET /rating/streak** - Рейтинг по максимальному стрику

#### Статистика
- **GET /stats/{user_id}** - Статистика пользователя

## Примеры использования

### 1. Регистрация пользователя
1. Откройте Swagger UI
2. Найдите раздел "Пользователи"
3. Нажмите на "POST /register"
4. Нажмите "Try it out"
5. Нажмите "Execute"
6. Скопируйте user_id и token из ответа

### 2. Получение карточек
1. Найдите раздел "Карточки"
2. Нажмите на "GET /cards"
3. Нажмите "Try it out"
4. Нажмите "Execute"
5. Просмотрите список карточек

### 3. Отправка ответа
1. Найдите раздел "Ответы"
2. Нажмите на "POST /answer"
3. Нажмите "Try it out"
4. Заполните форму:
   - user_id: ваш user_id
   - token: ваш token
   - card_id: ID карточки
   - is_correct: true/false
5. Нажмите "Execute"

## OpenAPI спецификация

Полная OpenAPI спецификация доступна по адресу:
**http://localhost:5000/apispec_1.json**

Эту спецификацию можно использовать для:
- Генерации клиентских SDK
- Импорта в Postman
- Создания мок-серверов
- Документирования API

## Настройка Swagger

Конфигурация Swagger находится в файле app.py:

`python
swagger_config = {
    "headers": [],
    "specs": [
        {
            "endpoint": 'apispec_1',
            "route": '/apispec_1.json',
            "rule_filter": lambda rule: True,
            "model_filter": lambda tag: True,
        }
    ],
    "static_url_path": "/flasgger_static",
    "swagger_ui": True,
    "specs_route": "/docs"
}
`

## Кастомизация

Для изменения внешнего вида или добавления дополнительной информации отредактируйте swagger_template в app.py.
